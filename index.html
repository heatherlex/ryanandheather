<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ryan & Heather's Wedding</title>
  <meta name="description" content="Join Ryan & Heather in celebrating their wedding. Submit your email to receive an invitation." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body,
    html {
      height: 100%;
      font-family: 'Cormorant Garamond', serif;
      background-color: black;
      overflow: hidden;
      color: white;
    }
    .video-container {
      position: relative;
      min-height: 100vh;
      width: 100vw;
      overflow-y: auto;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      padding: 20px 0;
    }
    video {
      max-width: 90vw;
      height: 80vh;
      object-fit: contain;
      display: none;
      border-radius: 8px;
      background: black;
      z-index: 2;
      pointer-events: none;
    }
    #topSkipMessage {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      text-align: center;
      padding: 12px 0;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      font-size: 14px;
      font-family: 'Cormorant Garamond', serif;
      z-index: 10;
      user-select: none;
      display: none;
    }
    .form-container {
      display: none;
      flex-direction: column;
      justify-content: flex-start;
      margin: 40px auto;
      width: 90%;
      max-width: 600px;
      max-height: 85vh;
      overflow-y: auto;
      background: white;
      color: black;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    }
    .form-description {
      font-size: 18px;
      margin-bottom: 30px;
      white-space: pre-wrap;
      line-height: 1.5;
    }
    .form-description strong {
      font-weight: 600;
      color: #000;
    }
    label {
      display: block;
      margin-bottom: 6px;
      font-size: 18px;
    }
    input {
      width: 100%;
      padding: 12px;
      margin-bottom: 24px;
      border-radius: 6px;
      border: 1px solid #ccc;
      background: #fff;
      color: #000;
      font-size: 16px;
    }
    input:focus {
      border-color: #999;
      outline: none;
    }
    input::placeholder {
      color: #999;
    }
    button[type='submit'] {
      padding: 12px 28px;
      font-size: 18px;
      border: 2px solid black;
      background: transparent;
      color: black;
      cursor: pointer;
      border-radius: 6px;
      transition: all 0.3s;
      align-self: center;
    }
    button[type='submit']:hover:not(:disabled) {
      background-color: black;
      color: white;
    }
    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    .iframe-container {
      height: 100vh;
      width: 100%;
      display: none;
    }
    iframe.website {
      border: none;
      width: 100%;
      height: 100%;
    }
    .overlay-message {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: black;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      text-align: center;
      font-size: 32px;
      font-family: 'Great Vibes', cursive;
      padding: 20px;
      z-index: 5;
    }
    .typewriter-text {
      border-right: 0.15em solid white;
      white-space: nowrap;
      overflow: hidden;
      width: 8ch;
      animation: typing 2.3s steps(8, end), blink-caret 0.75s step-end infinite;
    }
    .typewriter-subtext {
      font-size: 18px;
      font-family: 'Cormorant Garamond', serif;
      margin-top: 15px;
      opacity: 0;
      animation: fadeIn 2s ease forwards;
      animation-delay: 2.3s;
    }
    @keyframes typing {
      from { width: 0; }
      to { width: 8ch; }
    }
    @keyframes blink-caret {
      from, to { border-color: transparent; }
      50% { border-color: white; }
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }
  </style>
</head>
<body>
  <div id="topSkipMessage">tap to skip video</div>
  <div class="video-container" id="videoContainer">
    <div class="overlay-message" id="overlayMessage">
      <div class="typewriter-text">Welcome </div>
      <div class="typewriter-subtext">tap anywhere to play</div>
    </div>
    <video playsinline muted id="introVideo" preload="auto">
      <source src="wedding-intro.mp4" type="video/mp4" />
    </video>
    <div class="form-container" id="formContainer">
      <div class="form-description">
        <strong>We’ll be sending out our invitations electronically!</strong>

To make sure you don’t miss a thing, we kindly ask that one person per invitation share their email with us. This way, when the time comes, we can send your personalized RSVP link and all the important wedding details directly to you..

Just a heads-up: filling out this form isn’t your RSVP—it simply lets us know where to send your official invite closer to the date.

<strong>With love,</strong><br />
<strong>Ryan & Heather</strong>
      </div>
      <form id="customForm">
        <label for="name">Name</label>
        <input type="text" id="name" name="entry.2005620554" placeholder="Your full name" required aria-label="Full Name" />

        <label for="email">Email</label>
        <input type="email" id="email" name="entry.1045781291" placeholder="your.email@example.com" required aria-label="Email Address" />

        <button type="submit">Submit</button>
      </form>
    </div>
  </div>
  <div class="iframe-container" id="iframeContainer">
    <iframe class="website" loading="lazy" src="https://www.withjoy.com/ryanheather"></iframe>
  </div>
  <script>
    const video = document.getElementById('introVideo');
    const iframeContainer = document.getElementById('iframeContainer');
    const videoContainer = document.getElementById('videoContainer');
    const overlayMessage = document.getElementById('overlayMessage');
    const formContainer = document.getElementById('formContainer');
    const topSkipMessage = document.getElementById('topSkipMessage');
    const customForm = document.getElementById('customForm');
    const submitButton = customForm.querySelector('button[type="submit"]');

    let hasStarted = false;

    function startVideo() {
      if (!hasStarted) {
        hasStarted = true;
        video.style.display = 'block';
        topSkipMessage.style.display = 'block';
        video.muted = true;
        video.load();
        video.play()
          .then(() => {
            video.muted = false;
            overlayMessage.style.display = 'none';
          })
          .catch(err => {
            console.error('Playback failed:', err);
            overlayMessage.innerText = 'Tap to try again';
          });
      }
    }

    function skipVideo() {
      if (hasStarted && !video.paused) {
        video.pause();
        video.style.display = 'none';
        overlayMessage.style.display = 'none';
        formContainer.style.display = 'flex';
        topSkipMessage.style.display = 'none';
        document.body.style.overflow = 'auto';
      }
    }

    videoContainer.addEventListener('pointerdown', handleTap);
    videoContainer.addEventListener('click', handleTap);

    function handleTap(e) {
      if (e.target.closest('video, #overlayMessage, .video-container')) {
        hasStarted ? skipVideo() : startVideo();
      }
    }

    video.addEventListener('ended', () => {
      video.style.display = 'none';
      formContainer.style.display = 'flex';
      topSkipMessage.style.display = 'none';
      document.body.style.overflow = 'auto';
    });

    customForm.addEventListener('submit', e => {
      e.preventDefault();
      submitButton.disabled = true;
      submitButton.innerText = 'Submitting...';
      const data = new FormData(customForm);

      // Simulate form success
      setTimeout(() => {
        formContainer.innerHTML = '<h2 style="text-align:center">Thank you!</h2><p style="text-align:center">Redirecting to the full site...</p>';
        setTimeout(() => {
          window.location.href = 'https://www.withjoy.com/ryanheather';
        }, 1200);
      }, 800);
    });
  </script>
</body>
</html>
